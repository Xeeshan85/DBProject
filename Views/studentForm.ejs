<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Registration</title>
    <style>
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <h1>Student Registration Form</h1>
    <form action="/studentForm" method="post">
        <div>
            <label for="name">Full Name:</label>
            <input type="text" id="name" name="name" required>
        </div>
        <div>
            <label for="roll_number">Roll Number:</label>
            <input type="text" id="roll_number" name="roll_number" required>
        </div>
        <div>
            <label for="department">Department:</label>
            <select id="department" name="department" required>
                <option value="">Select Department</option>
                <option value="AI">Artificial Intelligence (AI)</option>
                <option value="CS">Computer Science (CS)</option>
                <option value="SE">Software Engineering (SE)</option>
                <option value="DS">Data Science (DS)</option>
            </select>
        </div>
        <div>
            <label for="dietary_preferences">Dietary Preferences:</label>
            <input type="text" id="dietary_preferences" name="dietary_preferences">
        </div>
        <div>
            <label for="registration_option">Registration Option:</label>
            <!-- <input type="hidden" id="registration_status" name="registration_status" value="false"> -->
            <select id="registration_option" name="registration_option">
                <option value="coming">Coming</option>
                <option value="not coming">Not Coming</option>
            </select>
        </div>
        <div>
            <label for="family_members">Number of Family Members:</label>
            <select id="family_members" name="family_members">
                <option value="0">0</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
            </select>
        </div>
        <div id="family_members_fields">
            <!-- Family members input fields will be inserted here based on selection -->
            <div id="family_member_1" class="hidden">
                <label for="family_member_1_name">Family Member 1 Name:</label>
                <input type="text" id="family_member_1_name" name="family_member_1_name">
                <label for="family_member_1_contact">Family Member 1 Contact:</label>
                <input type="text" id="family_member_1_contact" name="family_member_1_contact">
                <label for="family_member_1_cnic">Family Member 1 CNIC:</label>
                <input type="text" id="family_member_1_cnic" name="family_member_1_cnic">
            </div>
            <div id="family_member_2" class="hidden">
                <label for="family_member_2_name">Family Member 2 Name:</label>
                <input type="text" id="family_member_2_name" name="family_member_2_name">
                <label for="family_member_2_contact">Family Member 2 Contact:</label>
                <input type="text" id="family_member_2_contact" name="family_member_2_contact">
                <label for="family_member_2_cnic">Family Member 2 CNIC:</label>
                <input type="text" id="family_member_2_cnic" name="family_member_2_cnic">
            </div>
            <div id="family_member_3" class="hidden">
                <label for="family_member_3_name">Family Member 3 Name:</label>
                <input type="text" id="family_member_3_name" name="family_member_3_name">
                <label for="family_member_3_contact">Family Member 3 Contact:</label>
                <input type="text" id="family_member_3_contact" name="family_member_3_contact">
                <label for="family_member_3_cnic">Family Member 3 CNIC:</label>
                <input type="text" id="family_member_3_cnic" name="family_member_3_cnic">
            </div>
        </div>
        <input type="hidden" name="userType" value="student">
        <button type="submit">SUBMIT</button>
    </form>

    <script>
        document.getElementById('family_members').addEventListener('change', function() {
            var numFamilyMembers = parseInt(this.value);
            var familyMembersFields = document.getElementById('family_members_fields').children;
            
            // Hide all family member fields
            for (var i = 0; i < familyMembersFields.length; i++) {
                familyMembersFields[i].classList.add('hidden');
            }

            // Show family member fields based on selection
            for (var i = 0; i < numFamilyMembers; i++) {
                familyMembersFields[i].classList.remove('hidden');
            }
        });

        document.getElementById('registration_option').addEventListener('change', function() {
            var registration_option_value = this.value;
            if (registration_option_value === 'coming') {
                document.getElementById('registration_status').value = 'true';
            } else {
                document.getElementById('registration_status').value = 'false';
            }
        });
    </script>
</body>
</html>
